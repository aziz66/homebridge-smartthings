{
  "pluginAlias": "HomeBridgeSmartThings",
  "pluginType": "platform",
  "singular": true,
  "customUi": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "required": true,
        "default": "Smartthings Plug (IK)"
      },
      "BaseURL": {
        "title": "Base URL",
        "type": "string",
        "required": true,
        "default": "https://api.smartthings.com/v1/"
      },
      "client_id": {
        "title": "Client ID",
        "type": "string",
        "required": true,
        "description": "OAuth2 Client ID from SmartThings. Obtained using the SmartThings CLI 'apps:create' command. See [Setup Instructions](https://github.com/aziz66/homebridge-smartthings?tab=readme-ov-file#getting-started) for details."
      },
      "client_secret": {
        "title": "Client Secret",
        "type": "string",
        "required": true,
        "format": "password",
        "description": "OAuth2 Client Secret from SmartThings. Obtained using the SmartThings CLI 'apps:create' command. Save this value securely! See [Setup Instructions](https://github.com/aziz66/homebridge-smartthings?tab=readme-ov-file#getting-started) for details."
      },
      "server_url": {
        "title": "Server URL (Optional)",
        "type": "string",
        "required": false,
        "description": "Only required if you want to use webhooks for real-time device updates. Leave empty if you only want polling."
      },
      "oauth_access_token": {
        "title": "OAuth Access Token",
        "type": "string",
        "required": false,
        "description": "Auto-filled by the OAuth wizard. Do not edit manually."
      },
      "oauth_refresh_token": {
        "title": "OAuth Refresh Token",
        "type": "string",
        "required": false,
        "description": "Auto-filled by the OAuth wizard. Do not edit manually."
      },
      "oauth_expires_in": {
        "title": "OAuth Token Expiry (seconds)",
        "type": "integer",
        "required": false,
        "description": "Auto-filled by the OAuth wizard. Do not edit manually."
      },
      "webhook_port": {
        "title": "Webhook Port",
        "type": "integer",
        "required": false,
        "default": 3000,
        "description": "Port for webhook server (only used if Server URL is configured)"
      },
      "GarageDoorMaxPoll": {
        "title": "Garage Door Max Poll",
        "type": "integer",
        "required": true,
        "default": 40
      },
      "PollLocksSeconds": {
        "title": "Poll Locks (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 10
      },
      "PollDoorsSeconds": {
        "title": "Poll Garage Doors (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 10
      },
      "PollSensorsSeconds": {
        "title": "Poll Sensors (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 5
      },
      "PollSwitchesAndLightsSeconds": {
        "title": "Poll Switches and Lights (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 10
      },
      "PollTelevisionsSeconds": {
        "title": "Poll Television devices (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 15,
        "description": "How often to poll TV devices for status updates. TVs typically respond slower than other devices, so a higher interval is recommended."
      },
      "registerVolumeSlider": {
        "title": "Register Volume Slider for TVs",
        "type": "boolean",
        "required": false,
        "default": true,
        "description": "Creates a separate volume slider accessory for TVs (exposed as a lightbulb) because HomeKit's native TV interface doesn't show volume controls directly. Enable this if you can't see volume controls in the Home app."
      },

      "PollWindowShadesSeconds": {
        "title": "Poll Window Shades (zero = don't poll)",
        "type": "integer",
        "required": false,
        "default": 20
      },
      "ExposeHumiditySensorForAirConditioners": {
        "title": "Expose humidity Sensor for air Conditioners if available.",
        "type": "boolean",
        "required": false,
        "default": false
      },
      "ExposeACDisplayLight": {
        "title": "Expose AC Display Light as a switch if available.",
        "type": "boolean",
        "required": false,
        "default": true
      },
      "OptionalModeForAirConditioners": {
        "title": "Select what optional mode to use as additional switch in air conditioners.",
        "type": "string",
        "required": false,
        "enum": [
          "None",
          "Sleep",
          "Speed",
          "WindFree",
          "WindFreeSleep",
          "Speed and Windfree"
        ],
        "default": "None"
      },
      "enableTelevisionService": {
        "title": "Enable Television Service for TV devices",
        "type": "boolean",
        "required": false,
        "default": true,
        "description": "When enabled, Samsung TVs will be exposed as proper Television accessories with input source control, volume control, and picture modes. When disabled, TVs will continue to appear as simple switches."
      },
      "removeLegacySwitchForTV": {
        "title": "Remove Legacy Switch Service for TVs",
        "type": "boolean",
        "required": false,
        "default": false,
        "description": "When enabled, removes the basic switch service for TV devices, leaving only the Television service. When disabled (default), both services are available for backward compatibility."
      },
      "IgnoreLocations": {
        "title": "Locations to Ignore",
        "type": "array",
        "items": {
          "title": "Location Name",
          "type": "string"
        }
      },
      "IgnoreDevices": {
        "title": "Devices to Ignore (Blacklist)",
        "type": "array",
        "description": "List of device names to ignore. Device names are case-insensitive and whitespace is trimmed. Special characters like smart quotes (') are automatically normalized to regular quotes ('). This is ignored if ShowOnlyDevices is configured.",
        "items": {
          "title": "Device Name",
          "type": "string",
          "description": "Exact device name as it appears in SmartThings (case-insensitive)"
        },
        "examples": [
          ["Living Room Light", "Kitchen Switch", "Bedroom Fan"]
        ]
      },
      "selectedCapabilities": {
        "title": "Selected Capabilities for Real-Time Subscriptions",
        "type": "array",
        "description": "Manually select which capabilities get real-time subscriptions (max 20). Leave empty for automatic prioritization by device count.",
        "maxItems": 20,
        "items": {
          "title": "Capability",
          "type": "string"
        }
      },
      "tvApps": {
        "title": "TV App Shortcuts",
        "type": "array",
        "description": "Select apps to add to the TV input source list in Apple Home. These appear alongside HDMI inputs and launch the app when selected.",
        "items": {
          "type": "string",
          "enum": [
            "3201907018807", "3201910019365", "111299001912",
            "3201611010983", "3201606009684", "3201901017640",
            "3201601007625", "3201710014981", "3201807016597",
            "3202006020991", "3201710015037", "3202301029760",
            "111477000821", "3201608010191", "3201806016390",
            "3201708014618", "3202410037239", "3201908019041"
          ],
          "enumNames": [
            "Netflix", "Prime Video", "YouTube",
            "YouTube Kids", "Spotify", "Disney+",
            "Hulu", "Paramount+", "Apple TV",
            "Peacock TV", "Gallery", "HBO Max",
            "Shahid", "Deezer", "DAZN",
            "ESPN", "BeIN Sports", "Apple Music"
          ]
        },
        "default": [],
        "uniqueItems": true
      },
      "frameTvDevices": {
        "title": "Samsung Frame TV Devices (Local WebSocket Control)",
        "type": "array",
        "description": "Configure Samsung Frame TVs for full power off and art mode control via local WebSocket. Only needed for Frame TVs where the SmartThings power-off enters Art Mode instead of truly turning off.",
        "items": {
          "type": "object",
          "properties": {
            "deviceName": {
              "title": "Device Name",
              "type": "string",
              "minLength": 1,
              "description": "Exact SmartThings device name to match (case-insensitive)"
            },
            "ip": {
              "title": "TV IP Address",
              "type": "string",
              "minLength": 7,
              "pattern": "^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$",
              "description": "Static local IP address of the Samsung Frame TV"
            },
            "enableFullPowerOff": {
              "title": "Enable Full Power Off",
              "type": "boolean",
              "default": true,
              "description": "Use 3.5s long-press KEY_POWER via local WebSocket instead of SmartThings switch.off (which only enters Art Mode on Frame TVs)"
            },
            "enableArtModeSwitch": {
              "title": "Enable Art Mode Switch",
              "type": "boolean",
              "default": true,
              "description": "Expose a separate switch in HomeKit to toggle Art Mode on/off"
            },
            "token": {
              "title": "TV Token (Auto-saved)",
              "type": "string",
              "description": "Authorization token from the TV. Usually auto-saved after first connection â€” leave empty unless troubleshooting."
            }
          },
          "required": ["deviceName", "ip"]
        }
      },
      "ShowOnlyDevices": {
        "title": "Show Only Devices (Whitelist)",
        "type": "array",
        "description": "List of device names to exclusively show. When configured with at least one device, ONLY these devices will be exposed to HomeKit. This takes precedence over IgnoreDevices. Useful when you have many devices but only want to expose a few.",
        "items": {
          "title": "Device Name",
          "type": "string",
          "description": "Exact device name as it appears in SmartThings (case-insensitive)"
        },
        "examples": [
          ["Living Room Light", "Kitchen Switch", "Bedroom Fan"]
        ]
      }
    }
  },
  "form": null,
  "display": null
}